# スクリプトディレクトリ構造ガイド

## 概要

本ドキュメントは、飛行ロボットコンテストルール管理システムにおける `docs/images/scripts` ディレクトリと `docs/tools` ディレクトリの役割の違いを説明するものです。リポジトリ内に2つのスクリプトディレクトリが存在する理由と、それぞれの適切な使用方法について解説します。

## ディレクトリの役割と目的

### `docs/images/scripts` ディレクトリ

- **主な目的**: 画像ファイルの処理、最適化、メタデータ管理に特化したスクリプト
- **対象ユーザー**: 画像管理担当者、ドキュメント管理者
- **スコープ**: 画像に関連する処理のみ
- **使用頻度**: 新しい画像の追加時やメタデータ更新時

### `docs/tools` ディレクトリ

- **主な目的**: リポジトリ全体の管理、ドキュメント更新、ワークフロー自動化など幅広い目的のツール
- **対象ユーザー**: リポジトリ管理者、コントリビューター全般
- **スコープ**: 画像管理を含むリポジトリ全体の管理
- **使用頻度**: 開発サイクル全体を通して様々なタスクで使用

## 収録されているスクリプト

### `docs/images/scripts` ディレクトリの内容

1. **`pdf-extract.js`**: PDFファイルから画像を抽出するスクリプト
2. **`create-metadata.js`**: 画像ファイルのメタデータを生成するスクリプト
3. **`optimize-images.js`**: 画像ファイルのサイズや品質を最適化するスクリプト

これらのスクリプトは、画像ファイルの管理サイクル内で使用される特定の目的を持ったツールです。

### `docs/tools` ディレクトリの内容

1. **`create_dummy_images.py`**: テスト用のダミー画像を生成するスクリプト
2. **`sort_images.py`**: 画像ファイルを命名規則に従って分類・リネームするスクリプト
3. **`create_metadata.py`**: 画像メタデータを生成・保存するスクリプト（Python版）
4. **`update_repository.py`**: GitHubリポジトリを更新するスクリプト
5. **`update_documents.py`**: ルール文書内の画像参照を更新するスクリプト
6. **`main_workflow.py`**: 上記のプロセスを統合した統合ワークフローツール
7. **`setup_and_update.sh`**: 環境セットアップと更新用シェルスクリプト
8. **`process_drive_images.py`**: Googleドライブから画像を処理するスクリプト
9. **`extract_images_from_docs.js`**: Googleドキュメントから画像を抽出するJavaScriptツール

これらのツールは、画像管理を含む、リポジトリのより広範な管理タスクをサポートするために使用されます。

## 使い分けの指針

### `docs/images/scripts` を使用するケース：

- 単体の画像ファイルの処理や最適化
- PDFからの画像抽出
- 既存画像のメタデータ生成
- シンプルな画像変換作業

### `docs/tools` を使用するケース：

- 複数の画像ファイルの一括処理
- リポジトリ全体に影響する変更
- ドキュメント更新と画像管理の連携作業
- 統合ワークフローの実行
- 初期セットアップと環境構築
- Google Docs/Driveとの連携

## 今後の開発・メンテナンスガイドライン

1. **機能の重複を避ける**:
   - 新機能の追加時は、既存のスクリプトとの重複を確認
   - 機能が重複する場合は、より適切なディレクトリのスクリプトを更新

2. **ドキュメントの更新**:
   - 新しいスクリプトを追加する際は、対応するREADMEも更新
   - 使用例とコマンドラインオプションを明記

3. **将来の統合計画**:
   - 長期的には、機能が類似したスクリプトの統合を検討
   - 特に `create_metadata.py`（Python版）と `create-metadata.js`（JavaScript版）の統一を検討

## まとめ

- **`docs/images/scripts`**: 画像ファイル専用の処理ツールが集まったディレクトリ
- **`docs/tools`**: より広範な目的のリポジトリ管理ツールが集まったディレクトリ

この区分けにより、それぞれの役割に特化したツールを効率的に見つけて利用できます。ただし、将来的にはさらに整理統合し、メンテナンス性を高めることが望ましいでしょう。

---

最終更新日: 2025年3月11日
